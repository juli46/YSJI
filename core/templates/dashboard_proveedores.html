{% extends 'dashboard_base.html' %} {% block content %}
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
  rel="stylesheet"
/>

<div class="container">
   <div class="d-flex mt-3"> 
   <form method="get" class="d-flex gap-2 align-items-center flex-wrap">
    <input type="text" name="id" class="form-control" placeholder="ID" style="width: 100px;" value="{{ filtros.id }}">
    <input type="text" name="nombre" class="form-control" placeholder="Nombre" style="width: 150px;" value="{{ filtros.nombre }}">
    <input type="text" name="correo" class="form-control" placeholder="Correo" style="width: 180px;" value="{{ filtros.correo }}">
    <input type="text" name="cedula" class="form-control" placeholder="Cédula" style="width: 150px;" value="{{ filtros.cedula }}">
    <input type="text" name="telefono" class="form-control" placeholder="Teléfono" style="width: 150px;" value="{{ filtros.telefono }}">
    <button class="btn btn-dark" type="submit">Buscar</button>
  </form> 
</div> <br>
  <div class="card shadow border-0">
    <div class="card-header bg-gold text-white d-flex justify-content-between align-items-center rounded-top-lg">
      <h4 class="mb-0">Proveedores Registrados</h4>
      <a
        href="{% url 'proveedor_agregar' %}"
        class="btn btn-success btn-sm fw-bold text-white"
      >
        <i class="bi bi-person-plus-fill"></i> Agregar Proveedor
      </a>
    </div>
    <br>
    <div class="card-body p-0">
      <div class="table-responsive" style="margin-top: -20px;">
        <table class="table table-striped table-hover mb-0 align-middle">
          <thead class="text-white" style="background-color: #000000">
            <tr>
              <th class="text-center">#</th>
              <th class="text-start">Nombre</th>
              <th class="text-start">Correo</th>
              <th class="text-start">Teléfono</th>
              <th class="text-start">Cédula</th>
              <th class="text-start">Fecha Registro</th>
              <th class="text-center">Estado</th>
              <th class="text-center">Acciones</th>
            </tr>
          </thead>
          <tbody>
            {% for proveedor in proveedores %}
            <tr>
              <td class="text-center">{{ proveedor.id }}</td>
              <td class="text-start">{{ proveedor.nombre }}</td>
              <td class="text-start">{{ proveedor.correo|default:"-" }}</td>
              <td class="text-start">{{ proveedor.telefono|default:"-" }}</td>
              <td class="text-start">{{ proveedor.cedula|default:"-" }}</td>
              <td class="text-start">
                {{ proveedor.fecha_registro|date:"d/m/Y" }}
              </td>
              <td class="text-center">
                {% if proveedor.activo %}
                <span
                  class="badge border border-2 border-gold text-gold fw-semibold"
                  >Activo</span
                >
                {% else %}
                <span
                  class="badge border border-secondary text-secondary fw-semibold"
                  >Inactivo</span
                >
                {% endif %}
              </td>
              <td class="text-center">
                <div class="d-flex justify-content-center gap-2">
                  <a
                    href="{% url 'proveedor_editar' proveedor.id %}"
                    class="btn btn-sm btn-outline-info"
                    title="Editar"
                  >
                    <i class="bi bi-pencil-square"></i>
                  </a>
                  <a
                    href="{% url 'proveedor_eliminar' proveedor.id %}"
                    class="btn btn-sm btn-outline-danger"
                    title="Eliminar"
                  >
                    <i class="bi bi-trash-fill"></i>
                  </a>
                </div>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="8" class="text-center text-muted py-4">
                No hay proveedores registrados.
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<style>
  .bg-gold {
    background-color: #000000 !important;
    color: white !important;
  }
  .border-gold {
    border-color: #d4af37 !important;
  }
  .text-gold {
    color: #d4af37 !important;
  }
</style>
{% endblock %}
